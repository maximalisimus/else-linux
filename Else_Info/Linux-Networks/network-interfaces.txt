

# /etc/network/interfaces

Сетевая петля:

auto lo
iface lo inet loopback

Первый интерфейс:

allow-hotplug enp0s3                   #автоматически выполнять перезапуск интерфейса при его падении
auto enp0s3                            #поднимать интерфейс автоматически при старте системы
iface enp0s3 inet dhcp                 #получить адрес по DHCP

allow-hotplug enp0s8
auto enp0s8
# iface enp0s8 inet dhcp
iface enp0s8 inet static
	address 192.168.0.100
	netmask 255.255.255.0
	gateway 192.168.0.1
	broadcast 192.168.0.255
	# dns-nameservers 192.168.0.1 8.8.8.8
	#
	# pre-up 
	# post-up
	# pre-down
	# post-down
	#
	# post-up ip route add 192.168.0.100 via 192.168.0.1
	# post-up route add default gw 192.168.0.1 enp0s8
	# post-down ip route del 192.168.0.100 via 192.168.0.1
	# post-down route del default gw 192.168.0.1 enp0s8
# pre-up ifconfig eth0 hw ether xx:xx:xx:xx:xx:xx
# pre-up ip link set eth0 address xx:xx:xx:xx:xx:xx



pre-up Запустить команду до поднятия интерфейса. Если команда завершается с ошибкой, тогда ifup не отмечает интерфейс как настроенный, выводит сообщение об ошибке и завершается со статусом 0. В будущем это поведение может измениться.

post-up Запустить команду после поднятия интерфейса. Если команда завершается с ошибкой, тогда ifup не отмечает интерфейс как настроенный (даже если он в действительности настроен), выводит сообщение об ошибке и завершается со статусом 0. В будущем это поведение может измениться.

pre-down Запустить команду перед отключением интерфейса. Если команда завершается с ошибкой, тогда ifdown помечает интерфейс как не настроенный (даже если на самом деле его настройки не были сброшены) и завершается со статусом 0. В будущем это поведение может измениться.

post-down Запустить команду после отключения интерфейса. Если команда завершается с ошибкой, ifdown помечает интерфейс как не настроенный и завершается со статусом 0. В будущем это поведение может измениться.





address address
 	Необходимый адрес (четыре числа, разделённых точками).
netmask netmask
 	Необходимая маска сети (четыре числа, разделённых точками).
broadcast широковещательный_адрес
 	Широковещательный адрес (четыре числа, разделённых точками).
network network_address
 	Необходимый для ядер 2.0.x адрес сети (четыре числа, разделённых точками).
metric metric
 	Метрика маршрутизации для шлюза по умолчанию (целое число).
gateway address
 	Шлюз по умолчанию (четыре числа, разделённых точками).
pointopoint адрес
 	Адрес удалённой точки (четыре числа, разделённых точками). Обратите внимание на написание "point-to".
media type
 	Тип носителя, зависящий от драйвера.
hwaddress class address
 	Аппаратный адрес. Класс - это одно из следующих значений: ether, ax25, ARCnet или netrom. Адрес зависит от выбранного класса.
mtu size
 	Размер MTU.


